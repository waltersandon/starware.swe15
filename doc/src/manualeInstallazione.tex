\documentclass[12pt,a4paper]{article}
\input{../style/stile.sty}
\input{../tex/glossario.tex}
\usepackage{wrapfig}

%Titolo documento
\newcommand{\titoloDocumento}{Manuale Installazione}

%Prima data di creazione del documento
\newcommand{\dataCreazione}{26 aprile 2016}

%Inserite la versione attuale del documento
\newcommand{\versione}{1.0.0}

%Stato in cui si trova il documento: Formale solo all'atto di consegna
\newcommand{\stato}{Formale}

%Uso del documento
\newcommand{\uso}{Esterno}

\rhead{\titoloDocumento}
\lfoot{Versione: \versione}
\title{\titoloDocumento}

\begin{document}
	\begin{titlepage}
		\begin{center}
			\intestazione{\titoloDocumento}
			
			\begin{table}[h]
				\begin{center}
					\begin{tabular}{r | l}
						\multicolumn{2}{c}{\textbf{Informazioni sul documento}}\\
						\midrule
						\textbf{Nome Documento}	&	\titoloDocumento	\\
						\textbf{Versione}	&	\versione	\\
						\textbf{Stato}	&	\emph{\stato}	\\
						\textbf{Uso}	&	\emph{\uso}	\\
						\textbf{Data Creazione}	&	\dataCreazione	\\
						\textbf{Data Ultima Modifica}	&	\today	\\
						\textbf{Redazione} & \AB \\
						\textbf{Verifica}	&	\TP	\\
						\textbf{Approvazione}	& \AVE{} \\
						\textbf{Lista distribuzione}	&	\nomeGruppo{}	\\
						\ 	&	\Vardanega{}	\\
						\ 	&	\Cardin{}	\\
						\ 	&	Il \mgls{proponente} \Zucchetti{}	\\
						
					\end{tabular}
				\end{center}
			\end{table}
			
		\end{center}
	\end{titlepage}
	\newpage
	
	\Large{\textbf{Registro delle modifiche}}\\
	\normalsize
	
	\begin{center}
		\begin{longtable}[H]{p{0.12\textwidth} p{0.2\textwidth} p{0.18\textwidth} p{0.39\textwidth}}
			\toprule
			\textbf{Versione}	&	\textbf{Autore}	&	\textbf{Data}	&	\textbf{Descrizione}\\*
			\midrule
			\midrule
			1.0.2 & \WS{} & 2016-05-29 & Aggiunte guide all'installazione MongoDB e Node.js ai riferimenti informativi  \\*
			\midrule
			1.0.1 & \WS{} & 2016-05-28 & Inseriti screenshot  \\*
			\midrule
			1.0.0 & \AVE{} & 2016-05-13 & Approvazione \\*
			\midrule
			0.1.0 & \TP{} & 2016-05-13 & Verifica \\*
			\midrule
			0.0.4 & \AB{} & 2016-05-10 & Correzioni grammaticali e indirizzo per la clonazione della repository \\*
			\midrule
			0.0.3 & \AB{} & 2016-05-04 &  Stesura sezioni \ref{requisiti} e \ref{install} \\*
			\midrule
			0.0.2 & \AB{} & 2016-05-04 &  Stesura sezioni \ref{intro} e \ref{download} \\*
			\midrule
			0.0.1 & \AB{} & 2016-05-02 &  Definizione struttura documento \\*
			\midrule
			0.0.0 & \AB{} & 2016-04-30 &  Creazione documento \\*
			\bottomrule
			\caption{\mGls{versionamento}  del documento}
			\label{tabVers1}
		\end{longtable}
	\end{center}
	
	\newpage
	\tableofcontents
	%\newpage
	\listoftables
	%\listoffigures
	\newpage
	
	
	\section{Introduzione}	\label{intro}
	
	\subsection{Scopo}
	Questo documento è finalizzato ad illustrare le procedure di installazione dell'applicazione \prj{} e di specificare i requisiti minimi per il funzionamento di quest'ultima. Il documento è indirizzato all'amministratore di sistema.
	\subsection{Descrizione}
    Il documento include la definizione dettagliata della procedura di installazione. Viene fornita la procedura di reperimento dei file necessari e sono specificati i requisiti minimi affinché l'installazione vada a buon fine.
    Inoltre vengono fornite nel dettaglio sia la sequenza di azioni per l' installazione su server \mgls{openshift} sia per l'installazione dell'applicativo in locale.
   
	
	\subsection{Descrizione Prodotto}
	\descrizioneProdotto
	
	\subsection{Glossario}
	\glossarioPrint
	\subsection{Comunicazione malfunzionamenti}
		Se durante l’utilizzo dell’applicazione Quizzipedia si dovessero riscontrare problemi o malfunzionamenti, si invitano gli utilizzatori a segnalare l’errore inviando una email 		all’indirizzo:
		\url{starware.swe@gmail.com}
		Nella mail di segnalazione si dovranno riportare:
		\begin{itemize}
			\item sistema operativo utilizzato;
			\item versione di MongoDB utilizzata;
			\item versione di Node.js utilizzata;
			\item descrizione dettagliata del problema riscontrato e relativi errori visualizzati.
		\end{itemize}
	\subsection{Riferimenti}
	
	\subsubsection{Normativi}
	\begin{itemize}
		\item \NdPv{};
		\item Capitolato d'appalto C5: \url{http://www.math.unipd.it/~tullio/IS-1/2015/Progetto/C5p.pdf}.
	\end{itemize}	
	\subsubsection{Informativi}
	\begin{itemize}
		\item \mgls{node.js}: \url{https://nodejs.org};
		\item \mgls{mongodb}: \url{https://www.mongodb.com};
		\item Pagina di download per l'installer di \mgls{node.js}:
		\url{https://nodejs.org/en/download/};
		\item Pagina di download per l'installer di \mgls{mongodb}:
		\url{https://www.mongodb.com/download-center};
		\item Manuale d'installazione \mgls{node.js}:
		\url{https://nodejs.org/en/download/package-manager/};
		\item Manuale d'installazione \mgls{mongodb}:
		\url{https://docs.mongodb.com/manual/installation/}.
		
	\end{itemize}	
	
	\newpage
	\section{Requisiti per l'installazione}\label{requisiti}
	\subsection{Requisiti hardware}\label{requisitiHW}
	I requisiti hardware minimi per il funzionamento dell'applicazione sono:
	\begin{itemize}
		\item supporto di MondoDB versione 3.2;
		\item supporto di Node.js versione 4.4.1.
	\end{itemize}
	\subsection{Requisiti software}\label{requisitiSW}
	\subsubsection{Sistema operativo}
	\paragraph{Supporto lato server}L'applicazione \prj{} è supportata nei seguenti ambienti lato server:
	\begin{itemize}
		\item Windows;
		\item MacOs;
		\item Linux.
	\end{itemize}
	Per la versione del sistema operativo supportato lato server, si faccia vedano i  riferimenti informativi.

	\paragraph{Supporto esecuzione in locale}
	Per l'esecuzione in locale  dell'applicazione si garantisce il supporto per:
		\begin{itemize}
			\item Windows 10;
			\item MacOs dalla versione ElCapitan 10.11;
			\item Linux vesione 14 LTS.
		\end{itemize}
	
	
	Le istruzioni dettagliate per uno specifico sistema operativo sono specificate per ogni procedura illustrata.
	
	\subsection{Applicativi di supporto}
	L'applicazione \prj{} utilizza le seguenti applicazioni, pertanto per un corretto utilizzo è necessario che siano correttamente installate.
	\subsubsection{MongoDB versione 3.2}
	Per scaricare l'applicativo di installazione per \mgls{mongodb} si faccia riferimento al sito dedicato al download:
	\begin{center} \url{https://www.mongodb.com/download-center}
	\end{center}
	
	\begin{figure}[H]	
		\centering
		\includegraphics[width=1.0\linewidth]{../img/manualeInstallazione/mongoDownloadCenter.png}
		\caption{Pagina per il download di \mgls{mongodb}}
		\label{Pagina per il download di MongoDB}
	\end{figure}
	
	Seguendo la relativa guida per l'installazione:
		\begin{center} \url{https://docs.mongodb.com/manual/installation/}
		\end{center}
	
	\subsubsection{Node.js versione 4.4.1}
		Per scaricare l'applicativo di installazione per \mgls{node.js} si faccia riferimento al sito dedicato al download:
		\begin{center}
			 \url{https://nodejs.org/en/download/} 
		\end{center}
			\begin{figure}[H]	
				\centering
				\includegraphics[width=1.0\linewidth]{../img/manualeInstallazione/nodeDownloadCenter.png}
				\caption{Pagina per il download di \mgls{node.js}}
				\label{Pagina per il download di node.js}
			\end{figure}
		Seguendo la relativa guida per l'installazione:
		\begin{center} \url{https://nodejs.org/en/download/package-manager/}
		\end{center}
	
	\newpage
	\section{Download dell'applicazione}\label{download}
	Il prodotto è disponibile gratuitamente sotto  licenza \licenza. Esso è pubblicato su \mgls{github} e disponibile al seguente indirizzo: \url{https://github.com/lordnikolai/starware.swe15}
	E' possibile ottenere il prodotto nei due modi seguenti:
	\subsection{Clonare la repository con GitHub}
	E' possibile copiare in locale i file necessari con l'utilizzo di \mgls{git} in due modalità:
	
	\subsubsection{Shell di comando} 
	Per eseguire questa procedura è necessario che l'applicativo \mgls{git} sia stato precedentemente installato.
	\begin{enumerate}
		\item navigare sul terminale fino alla cartella in cui si desidera installare il prodotto;
		\item \texttt{git clone https://github.com/lordnikolai/starware.swe15.git} provvederà al download del prodotto nella cartella corrente. 
	\end{enumerate}
	
		\begin{figure}[H]	
			\centering
			\includegraphics[width=1.0\linewidth]{../img/manualeInstallazione/gitShell.png}
			\caption{Comando per clonare la \mgls{repository}}
			\label{Comando per clonare la repository}
		\end{figure}
	\subsubsection{Applicazione}
	È necessario scaricare l'applicazione di \mgls{github} nel proprio computer e seguire i passi della fugura sottostante:
	
	\begin{figure}[H]	
		\centering
		\includegraphics[width=1.0\linewidth]{../img/manualeInstallazione/gitHubTool.png}
		\caption{Comando per clonare la \mgls{repository} da applicazione}
		\label{Comando per clonare la repository da applicazione}
	\end{figure}
	
	\subsection{Download file da browser}
	Altrimenti sarà possibile scaricare il prodotto tramite browser web accedendo
	all’indirizzo fornito precedentemente selezionando il link chiamato: \textbf{\textit{Download ZIP}}.
	
		\begin{figure}[H]	
			\centering
			\includegraphics[width=1.0\linewidth]{../img/manualeInstallazione/downloadRepo.png}
			\caption{Download del file ZIP della \mgls{repository}}
			\label{Download dell file ZIP della repository}
		\end{figure}
	
	\newpage
	\section{Installazione}\label{install}
		
		\subsubsection{Pacchetto di installazione per ambiente Windows}
		\begin{itemize}
			\item aprire la cartella \texttt{ src};
			\item eseguire il file per l'installazione (doppio click sul nome del file): \texttt{quizzipediaInstaller.exe}
			\item si aprirà a questo punto l'interfaccia per l'instaallazione dell'applicazione:
			\begin{figure}[H]	
				\centering
				\includegraphics[width=0.4\linewidth]{../img/manualeInstallazione/win_installer01.png}
				\caption{Interfaccia installazione Windows}
				\label{Interfaccia installazione Windows}
			\end{figure}
			
			\item premere sul pulsante "Inizialize/Reset Database" per la configurazione del database. 
			\item durante l'esecuzione dell'operazione si aprirà la finestra del terminale npm sotto illutrata. Questa si chiuderà automaticamente a operazione completata.
			\begin{figure}[H]	
				\centering
				\includegraphics[width=0.8\linewidth]{../img/manualeInstallazione/win_installer02.png}
				\caption{Terminale npm: esecuzione inizializzazione o ripristino database}
				\label{Terminale npm: esecuzione inizializzazione o ripristino database}
			\end{figure}
			
			\item al temrmine dell'operazione, dopo la chiusura automatica del terminale,sulla finestra dell'interfaccia di installazione comparirà la scritta "Done" al di sotto del pulsante "Inizialize/Reset Database" ad indicare che l'operazione è stata completata correttamente:
			\begin{figure}[H]	
				\centering
				\includegraphics[width=0.4\linewidth]{../img/manualeInstallazione/win_installer03.png}
				\caption{Operazione di inizializzazione/ripristino database avvenuta}
				\label{Operazione di inizializzazione/ripristino database avvenuta}
			\end{figure}
			\item premere sul pulsante "start/stop server" per avviare il server dell'applicazione.
			\item aprire il browser e digitare sulla barra degli indirizzi:
				\begin{center}
					\url{http://localhost:3000}
				\end{center}
		
				
		\end{itemize}	
		
		\subsubsection{Pacchetto di installazione per ambiente Unix}
		\begin{itemize}
			\item avviare il terminale;
			\item posizionarsi nella cartella src;
			\item avviare lo script "install.sh" come amministratore con i comandi:
		\[ 	\texttt{sudo  ./install.sh} \]
		verranno visualizzate le operazioni formite dal pacchetto di installazione e avvio preconfigurato.
	\end{itemize}
		\textbf{Per un corretto avvio dell'applicazione è necessario eseguire tutte le operazioni seguenti nell'ordine indicato:}
	\begin{enumerate}
		\item \textbf{Installazione}: per eseguire l'installazine, specificare dopo lo script con l'opzione apposita:
		\[ 	\texttt{sudo  ./install.sh -i } \] oppure \[ 	\texttt{sudo  ./install.sh install} \]
		\item \textbf{Ripristino database}: per eseguire il ripristino del database, eseguire lo script con l'opzione apposita:
			\[ 	\texttt{sudo  ./install.sh -r } \] oppure \[ 	\texttt{sudo  ./install.sh reset} \]
		\item \textbf{Avvio dell'applicazione}: per avviare l'applicazione, eseguire lo script con l'opzione apposita:
		\[ 	\texttt{sudo  ./install.sh -s } \] oppure \[ 	\texttt{sudo  ./install.sh start} \]
		\item \textbf{Terminare l'applicazione}: per terminare l'applicazione, eseguire lo script con l'opzione apposita:
				\[ 	\texttt{sudo  ./install.sh -q } \] oppure \[ 	\texttt{sudo  ./install.sh quit} \]
	
			

		\end{enumerate}
	\subsection{Installazione da linea di comando}

	In seguito vengono forniti i comandi da eseguire da Shell di comando. I comandi sono identici sia in ambiente \mgls{windows}, sia in ambiente UNIX.
	Tutti i seguenti comandi richiedono la corretta installazione e il corretto funzionamento di \mgls{mongodb} e \mgls{node.js}.
	\begin{enumerate}
		\item accedere alla cartella della \mgls{repository} contenente il codice:
		\begin{center}
			\texttt{\$ cd /percorso/alla/cartella/starware.swe15/src} 
		\end{center}
		\item installare i moduli \mgls{node.js} necessari all'applicazione attraverso il comando fornito dal \mgls{node package manager}:
		\begin{center}
			\texttt{\$ npm install} 
		\end{center}
		\item su una seconda Shell (assicurandosi di non chiuderla dino a quando si desidera utilizzare l'applicazione), avviare il \mgls{database} \mgls{mongodb} con il comando:
		\begin{center}
			\texttt{\$ mongod} 	
		\end{center}	
		In ambiente \mgls{linux} si dovrà eseguire questo comando con i permessi di superuser:
		\begin{center}
			\texttt{\$ sudo mongod} 	
		\end{center}
		\item Una volta assicuratisi che il database sia in funzione, eseguire attraverso l'interprete node lo script per il popolamento del \mgls{database}:
		\begin{center}
			\texttt{\$ node bootstrap.js} 	
		\end{center} 
		\item avviare il server \mgls{node.js} attraverso il comando:
		\begin{center}
			\texttt{\$ node server.js} 	
		\end{center} 
		Assicurandosi di non chiudere la Shell fino a quando si desidera utilizzare l'applicazione.
		\item Dopo aver aperto un \mgls{browser} inserire il seguente indirizzo nella apposita barra degli indirizzi:
		\begin{center}
			\url{http://localhost:3000}
		\end{center}
			
	\end{enumerate}
		


\end{document}
